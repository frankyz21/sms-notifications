<div class="search-container">
  <h1>SMS Notification History</h1>

  <div class="search-form">
    <%= form_tag(dashboard_index_path, method: :get, class: "search-container") do %>
      <%= text_field_tag :query, params[:query], placeholder: "Search by recipient phone number or status", class: "search-input" %>
      <%= submit_tag "Search", class: "btn btn-primary mb-2" %>
    <% end %>
  </div>
</div>

<table class="sms-notifications">
  <thead>
    <tr>
      <th>Recipient Phone Number</th>
      <th>Message</th>
      <th>Status</th>
      <th>Sent At</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    <% @sms_notifications.each do |notification| %>
      <tr>
        <td><%= notification.recipient_phone_number %></td>
        <td><%= notification.message %></td>
        <td><%= notification.status %></td>
        <td><%= notification.created_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
        <td><%= notification.error_message %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<br/>
<%== pagy_nav(@pagy) %>